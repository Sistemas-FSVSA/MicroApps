<link rel="stylesheet" href="/css/tramites/resumenplanilla.css">

<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2 align-items-center d-flex justify-content-between">
            <div class="col-sm-4 d-flex align-items-center">
                <button class="btn btn-outline-secondary mr-2" onclick="irAtras()">
                    <i class="fas fa-angle-double-left"></i> Regresar
                </button>
                <h1 class="m-0" id="title"></h1>
            </div>
            <div class="col-sm-6 text-right">
                <h3 id="usuarioNombre" class="m-0"></h3>
                <h3 id="usuarioNombrePlantilla" class="m-0"></h3>
                <span id="fechaInicio" class="text-muted"></span>
            </div>
        </div>
    </div>
    <hr>
</div>

<div class="content">
    <div class="container-fluid">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <!-- Botón a la izquierda -->
            <button class="btn btn-fsvsaoff" id="agregarAjuste">Agregar Ajuste</button>

            <!-- Inputs y etiquetas alineados a la derecha -->
            <div class="d-flex align-items-center">
                <label id="labelTotalPlanilla" for="totalPlanilla" class="mr-2">Total Planilla:</label>
                <input type="text" id="totalPlanilla" placeholder="Total" class="form-control text-right w-auto mr-3"
                    readonly>

                <label id="labelTotalAjuste" for="totalAjuste" class="mr-2">Ajuste:</label>
                <input type="text" id="totalAjuste" placeholder="Ajuste" class="form-control text-right w-auto mr-3"
                    readonly>

                <label id="labelTotalFinal" for="totalFinal" class="mr-2">Total Planilla + Ajuste:</label>
                <input type="text" id="totalFinal" placeholder="Total Final" class="form-control text-right w-auto"
                    readonly>
            </div>
        </div>

        <!-- Row con dos columnas para las tarjetas -->
        <div class="row" id="contenedorTramites">
            <!-- Contenedores dinámicos para los trámites -->
        </div>
    </div>
</div>

<!-- Contenedor de botones fijos en la esquina inferior derecha -->
<div class="button-container-fixed">
    <button class="btn btn-fsvsaoff" id="rechazarPlanilla">Rechazar Planilla</button>
    <button class="btn btn-fsvsaon" id="aprobarPlanilla">Aprobar Planilla</button>
    <button class="btn btn-fsvsaoff" id="editarPlanilla">Editar Planilla</button>
    <button class="btn btn-fsvsaoff" id="editarPlanillaCerrado">Editar Planilla</button>
    <button class="btn btn-fsvsaon" id="cerrarPlanilla">Cerrar Planilla</button>
</div>

<!-- Modal de Agregar Ajuste -->
<div class="modal fade" id="modalAjuste" tabindex="-1" aria-labelledby="modalAjusteLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalAjusteLabel">Agregar Ajuste</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="formAjuste">
                    <div class="mb-3">
                        <label for="valorAjuste" class="form-label">Valor del Ajuste</label>
                        <input type="number" class="form-control" id="valorAjuste" required>
                    </div>
                    <div class="mb-3">
                        <label for="motivoAjuste" class="form-label">Motivo del Ajuste</label>
                        <textarea class="form-control" id="motivoAjuste" rows="3" required></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-fsvsaon" id="guardarAjuste">Aceptar</button>
                <button type="button" class="btn btn-fsvsaoff" data-dismiss="modal">Cancelar</button>
            </div>
        </div>
    </div>
</div>

<script src="/controllers/tramites/resumenplanilla.js"></script>
